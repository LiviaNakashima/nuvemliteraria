<html>

<head>
    <link rel="stylesheet" href="css/Design.css" type="text/css">
    <meta charset="utf-8">
    <title>Livros Cadastrados</title>
    <link rel="shortcut icon" href="images/favicon.png">
</head>

<body>

    <div class="logo">
        <img src="images/favicon.png" height="54px" width="56px"><a href="Index.html">Nuvem Literária</a><img
            src="images/favicon.png" height="54px" width="56px">
    </div>

    <div class="menu">
        <div class="menuitem"><a class="menulink" href="Index.html">Início</a></div>
        <div class="menuitem"><a class="menulink" href="Resenhas.html">Resenhas</a></div>
        <div class="menuitem" ><a class="menulink" href="Lista de Desejos.html">Lista de Desejos</a></div>
        <div class="menuitem" id="cad" style="display: none"><a class="menulink" href="Cadastro.html">Cadastro</a></div>
        <div class="menuitem" id="ent" style="display: none"><a class="menulink" href="Entrar.html">Entrar</a></div>
        <div class="menuitem" id="ss" style="display: none"><a class="menulink" onclick="sair()">Sair</a></div>
    </div>

    </div>
    <div class="titulo">
        Livros que você cadastrou
    </div>

    <div class="conteinerprodutos" id="resultados"></div>

    <script src="js/geral.js"></script>
    </body>
    <script>
    fetch('/leituras/ultimas', { cache: 'no-store' }).then(function (response) {
            if (response.ok) {
                response.json().then(function (resposta) {

                    console.log(`Dados recebidos: ${JSON.stringify(resposta)}`);

                   for(i=0; i<resposta.length; i++)
                   {
                     console.log(resposta[i]);
                     resultados.innerHTML += `<div class="hvr-grow"> 
        <div class="caixaproduto">
            <a href="Ramses.html"><img src="${resposta[i].link}" height="200px" width="220px"></a>
        <div class="nome">${resposta[i].livro}
        </div> 
    </div>
                                                </div>`;
                   }

                    // div_aguarde.style.display = 'none';

                   
                });
            } else {
                console.error('Nenhum dado encontrado ou erro na API');
            }
        })
            .catch(function (error) {
                console.error(`Erro na obtenção dos dados p/ gráfico: ${error.message}`);
            });

    
    </script>